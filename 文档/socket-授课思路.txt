
第1部分 考试试题
	上一次课程回顾

第2部分 socket基本模型
	长连接 PK 短连接
	p2p
	无边界tcpip协议流
		报文的长度+包体
		\n（ftp、\r\n）
==========================================================================




	授课思路
友情提示：今天的课程需要学员，大量动手实践，课后加强复习！


第3部分 tcpip协议11种状态解编程实践
	多进程下的socket
	TCP/IP协议的11种状态 
	SIGPIPE
	close与shutdown
	
第4部分 socket编程模型
	五种I/O模型
	I/O复用	
		简单select select完善客户端、服务器、
		套接字I/O超时设置方法  


第5部分 服务框架与socket通讯模型项目中的应用思路
	服务框架和socket通讯模型分层
	socket通讯库设计与实现

Socket API 中的地址复用
	UDP api编程实践
	socket服务器端连接的管理
	socket性能测试
	TCP/IP理论知识

考试训练协商

多路IO
IO复用
	客户端：用select管理 标准输入stdio，网络输入conn

	服务器端：也可以用select管理 listenfd 多个连接conn
		调用accept函数，listenfd 可读，表示有客户端连接进来了，可以建立一个新的连接
		假设有5个客户端已经和服务器建立好连接。。。
			这5个连接也可以加入到select里面进行管理（只需要监控读事件）

===================================
##### 口令  用户名+密码
19 
20 复习 机动
21 中午（中午）

connect为什么这么做

1 tcpip 在客户端连接服务器的时候。，如果异常，connnect（默认是阻塞的情况下），返回时间是1.5RTT
	大约是75以上。。。。。；会造成软件质量严重下降。
2 sockfd变成非阻塞。。。。。
	先试着调用connnect
	如果网络好，马上建立连接
	如果网络不好，则根据返回值。。。。
		if (ret < 0 && errno == EINPROGRESS) 表示客户端和服务器端正在建立连接。。。
		我们等一等。。
	等待的时间，我们可以自己控制
	+ 把select中心给用上。。。。。。
	相当于======我们通过select管理者中心去监控sockfd。。。。。
	这样会大大提高我们的产品质量

3 需要注意的一点
	select机制监控到conn可读，并不能代表连接是可用的。
	还需要做进一步的判读（造成可读有几种结果：1 真正的连接建立起来了，，
			2、建立的时候，失败（失败会回写失败信息，造成可读））

	通过int sockoptret = getsockopt(fd, SOL_SOCKET, SO_ERROR, &err, &socklen);
	做一个容错即可。。。


//确定api函数的接口
//搭建框架（api函数明确）
//写测试框架
//编写接口。。。。

client

	


	



		


	
	